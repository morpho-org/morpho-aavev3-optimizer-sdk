import { BigNumber, constants } from "ethers";
import { parseUnits } from "ethers/lib/utils";

import { Underlying } from "../../src/mocks/markets";
import { MarketConfig, MarketMapping, ScaledMarketData } from "../../src/types";

export const MARKETS_CONFIGS: MarketMapping<MarketConfig> = {
  [Underlying.dai]: {
    eModeCategoryId: constants.Zero,
    symbol: "DAI",
    address: Underlying.dai,
    decimals: 18,
    name: "DAI Stablecoin",
    isBorrowPaused: false,
    isP2PDisabled: false,
    isRepayPaused: false,
    isSupplyCollateralPaused: false,
    isSupplyPaused: false,
    isLiquidateCollateralPaused: false,
    isLiquidateBorrowPaused: false,
    isDeprecated: false,
    isWithdrawCollateralPaused: false,
    isWithdrawPaused: false,
    collateralFactor: parseUnits("0.8", 4),
    p2pReserveFactor: constants.Zero,
    borrowableFactor: parseUnits("0.7", 4),
    p2pIndexCursor: BigNumber.from(3333),
    borrowCap: constants.Zero,
    supplyCap: constants.Zero,
    isCollateral: true,
  },
  [Underlying.usdc]: {
    symbol: "USDC",
    address: Underlying.usdc,
    eModeCategoryId: constants.Zero,
    decimals: 6,
    name: "USDC Stablecoin",
    isBorrowPaused: false,
    isP2PDisabled: false,
    isRepayPaused: false,
    isSupplyCollateralPaused: false,
    isSupplyPaused: false,
    isLiquidateCollateralPaused: false,
    isLiquidateBorrowPaused: false,
    isDeprecated: false,
    isWithdrawCollateralPaused: false,
    isWithdrawPaused: false,
    collateralFactor: parseUnits("0.83", 4),
    p2pReserveFactor: constants.Zero,
    borrowableFactor: parseUnits("0.75", 4),
    p2pIndexCursor: BigNumber.from(3333),
    borrowCap: constants.Zero,
    supplyCap: constants.Zero,
    isCollateral: true,
  },
  [Underlying.wbtc]: {
    symbol: "WBTC",
    address: Underlying.wbtc,
    eModeCategoryId: constants.Zero,
    decimals: 8,
    name: "Wrapped BTC",
    isBorrowPaused: true,
    isP2PDisabled: false,
    isRepayPaused: false,
    isSupplyCollateralPaused: false,
    isSupplyPaused: false,
    isLiquidateCollateralPaused: false,
    isLiquidateBorrowPaused: false,
    isDeprecated: false,
    isWithdrawCollateralPaused: false,
    isWithdrawPaused: false,
    collateralFactor: parseUnits("0.7", 4),
    p2pReserveFactor: constants.Zero,
    borrowableFactor: parseUnits("0.5", 4),
    p2pIndexCursor: BigNumber.from(3333),
    borrowCap: constants.Zero,
    supplyCap: constants.Zero,
    isCollateral: true,
  },
  [Underlying.uni]: {
    symbol: "UNI",
    address: Underlying.uni,
    eModeCategoryId: constants.Zero,
    decimals: 18,
    name: "Uniswap token",
    isBorrowPaused: false,
    isP2PDisabled: false,
    isRepayPaused: false,
    isSupplyCollateralPaused: false,
    isSupplyPaused: false,
    isLiquidateCollateralPaused: false,
    isLiquidateBorrowPaused: false,
    isDeprecated: false,
    isWithdrawCollateralPaused: false,
    isWithdrawPaused: false,
    collateralFactor: parseUnits("0.64", 4),
    p2pReserveFactor: constants.Zero,
    borrowableFactor: parseUnits("0.62", 4),
    p2pIndexCursor: BigNumber.from(3333),
    borrowCap: constants.Zero,
    supplyCap: constants.Zero,
    isCollateral: true,
  },
  [Underlying.usdt]: {
    symbol: "USDT",
    address: Underlying.usdt,
    eModeCategoryId: constants.Zero,
    decimals: 6,
    name: "TETHER Stablecoin",
    isBorrowPaused: false,
    isP2PDisabled: false,
    isRepayPaused: false,
    isSupplyCollateralPaused: true,
    isSupplyPaused: false,
    isLiquidateCollateralPaused: false,
    isLiquidateBorrowPaused: false,
    isDeprecated: false,
    isWithdrawCollateralPaused: true,
    isWithdrawPaused: false,
    collateralFactor: constants.Zero,
    p2pReserveFactor: constants.Zero,
    borrowableFactor: constants.Zero,
    p2pIndexCursor: BigNumber.from(3333),
    borrowCap: constants.Zero,
    supplyCap: constants.Zero,
    isCollateral: true,
  },
  [Underlying.weth]: {
    symbol: "WETH",
    address: Underlying.weth,
    eModeCategoryId: BigNumber.from(1),
    decimals: 18,
    name: "Wrapped Ether",
    isBorrowPaused: false,
    isP2PDisabled: false,
    isRepayPaused: false,
    isSupplyCollateralPaused: false,
    isSupplyPaused: false,
    isLiquidateCollateralPaused: false,
    isLiquidateBorrowPaused: false,
    isDeprecated: false,
    isWithdrawCollateralPaused: false,
    isWithdrawPaused: false,
    collateralFactor: parseUnits("0.74", 4),
    p2pReserveFactor: constants.Zero,
    borrowableFactor: parseUnits("0.73", 4),
    p2pIndexCursor: BigNumber.from(3333),
    borrowCap: constants.Zero,
    supplyCap: constants.Zero,
    isCollateral: false,
  },
  [Underlying.wsteth]: {
    symbol: "WSTETH",
    address: Underlying.wsteth,
    eModeCategoryId: BigNumber.from(1),
    decimals: 18,
    name: "Wrapped Staked Ether",
    isBorrowPaused: false,
    isP2PDisabled: false,
    isRepayPaused: false,
    isSupplyCollateralPaused: false,
    isSupplyPaused: false,
    isLiquidateCollateralPaused: false,
    isLiquidateBorrowPaused: false,
    isDeprecated: false,
    isWithdrawCollateralPaused: false,
    isWithdrawPaused: false,
    collateralFactor: parseUnits("0.74", 4),
    p2pReserveFactor: constants.Zero,
    borrowableFactor: parseUnits("0.73", 4),
    p2pIndexCursor: BigNumber.from(3333),
    borrowCap: constants.Zero,
    supplyCap: constants.Zero,
    isCollateral: true,
  },
};

export const MARKETS_DATA: MarketMapping<ScaledMarketData> = {
  [Underlying.dai]: {
    address: Underlying.dai,
    chainUsdPrice: parseUnits("1.01", 8),
    idleSupply: constants.Zero,
    poolLiquidity: parseUnits("100000000", 18),
    poolStableBorrow: constants.Zero,
    scaledPoolSupply: parseUnits("432142319", 18),
    scaledMorphoBorrowInP2P: parseUnits("123455234", 18),
    scaledMorphoBorrowOnPool: parseUnits("1232414124", 18),
    scaledMorphoSupplyInP2P: parseUnits("21343214234", 18),
    scaledMorphoGlobalPoolSupply: parseUnits("43649576", 18),
    scaledPoolBorrow: parseUnits("132431432", 18),
    indexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      p2pBorrowIndex: parseUnits("1.31218", 27),
      p2pSupplyIndex: parseUnits("1.12314", 27),
      poolBorrowIndex: parseUnits("1.12312", 27),
      poolSupplyIndex: parseUnits("1.12321", 27),
    },
    aaveIndexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      liquidityIndex: parseUnits("1.7564", 27),
      liquidityRate: parseUnits("1.0589", 27 - 2), // in percent
      variableBorrowIndex: parseUnits("1.2675", 27),
      variableBorrowRate: parseUnits("1.2675", 27 - 2), // in percent
    },
    deltas: {
      supply: {
        scaledP2PTotal: constants.Zero,
        scaledDelta: constants.Zero,
      },
      borrow: {
        scaledDelta: constants.Zero,
        scaledP2PTotal: constants.Zero,
      },
    },
  },
  [Underlying.usdc]: {
    address: Underlying.usdc,
    chainUsdPrice: parseUnits("0.99999998", 8),
    idleSupply: constants.Zero,
    poolLiquidity: parseUnits("100000000", 6),
    poolStableBorrow: parseUnits("1000", 6),
    scaledPoolSupply: parseUnits("432142315", 6),
    scaledMorphoBorrowInP2P: parseUnits("123455234", 6),
    scaledMorphoBorrowOnPool: parseUnits("1232414124", 6),
    scaledMorphoSupplyInP2P: parseUnits("21343214234", 6),
    scaledMorphoGlobalPoolSupply: parseUnits("86748576", 6),
    scaledPoolBorrow: parseUnits("132431432", 6),
    indexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      p2pBorrowIndex: parseUnits("1.31218", 27),
      p2pSupplyIndex: parseUnits("1.12314", 27),
      poolBorrowIndex: parseUnits("1.12312", 27),
      poolSupplyIndex: parseUnits("1.12321", 27),
    },
    aaveIndexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      liquidityIndex: parseUnits("1.7564", 27),
      liquidityRate: parseUnits("0.0589", 27 - 2), // in percent
      variableBorrowIndex: parseUnits("1.2675", 27),
      variableBorrowRate: parseUnits("0.2675", 27 - 2), // in percent
    },
    deltas: {
      supply: {
        scaledP2PTotal: constants.Zero,
        scaledDelta: constants.Zero,
      },
      borrow: {
        scaledDelta: constants.Zero,
        scaledP2PTotal: constants.Zero,
      },
    },
  },
  [Underlying.wbtc]: {
    address: Underlying.wbtc,
    chainUsdPrice: parseUnits("20001.4729", 8),
    idleSupply: constants.Zero,
    poolLiquidity: parseUnits("100000000", 8),
    poolStableBorrow: constants.Zero,
    scaledPoolSupply: parseUnits("432142315", 8),
    scaledMorphoBorrowInP2P: parseUnits("123455234", 8),
    scaledMorphoBorrowOnPool: parseUnits("1232414124", 8),
    scaledMorphoSupplyInP2P: parseUnits("21343214234", 8),
    scaledMorphoGlobalPoolSupply: parseUnits("43217684", 8),
    scaledPoolBorrow: parseUnits("132431432", 8),
    indexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      p2pBorrowIndex: parseUnits("1.31218", 27),
      p2pSupplyIndex: parseUnits("1.12314", 27),
      poolBorrowIndex: parseUnits("1.12312", 27),
      poolSupplyIndex: parseUnits("1.2321", 27),
    },
    aaveIndexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      liquidityIndex: parseUnits("1.7564", 27),
      liquidityRate: parseUnits("1.0589", 27 - 2), // in percent
      variableBorrowIndex: parseUnits("1.2675", 27),
      variableBorrowRate: parseUnits("1.2675", 27 - 2), // in percent
    },
    deltas: {
      supply: {
        scaledP2PTotal: constants.Zero,
        scaledDelta: constants.Zero,
      },
      borrow: {
        scaledDelta: constants.Zero,
        scaledP2PTotal: constants.Zero,
      },
    },
  },
  [Underlying.uni]: {
    address: Underlying.uni,
    chainUsdPrice: parseUnits("0.31", 8),
    idleSupply: constants.Zero,
    poolLiquidity: parseUnits("10000435500", 18),
    poolStableBorrow: constants.Zero,
    scaledPoolSupply: parseUnits("432142315", 18),
    scaledMorphoBorrowInP2P: parseUnits("123455234", 18),
    scaledMorphoBorrowOnPool: parseUnits("1232414124", 18),
    scaledMorphoSupplyInP2P: parseUnits("21343214234", 18),
    scaledMorphoGlobalPoolSupply: parseUnits("44460087", 18),
    scaledPoolBorrow: parseUnits("132431432", 18),
    indexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      p2pBorrowIndex: parseUnits("1.31218", 27),
      p2pSupplyIndex: parseUnits("1.12314", 27),
      poolBorrowIndex: parseUnits("1.12312", 27),
      poolSupplyIndex: parseUnits("1.12321", 27),
    },
    aaveIndexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      liquidityIndex: parseUnits("1.7564", 27),
      liquidityRate: parseUnits("1.0589", 27 - 2), // in percent
      variableBorrowIndex: parseUnits("1.2675", 27),
      variableBorrowRate: parseUnits("1.2675", 27 - 2), // in percent
    },
    deltas: {
      supply: {
        scaledP2PTotal: constants.Zero,
        scaledDelta: constants.Zero,
      },
      borrow: {
        scaledDelta: constants.Zero,
        scaledP2PTotal: constants.Zero,
      },
    },
  },
  [Underlying.usdt]: {
    address: Underlying.usdt,
    chainUsdPrice: parseUnits("1.05", 8),
    idleSupply: constants.Zero,
    poolLiquidity: parseUnits("100435500", 6),
    poolStableBorrow: constants.Zero,
    scaledPoolSupply: parseUnits("43214867215", 6),
    scaledMorphoBorrowInP2P: parseUnits("12345234", 6),
    scaledMorphoBorrowOnPool: parseUnits("12324144124", 6),
    scaledMorphoSupplyInP2P: parseUnits("2134614234", 6),
    scaledMorphoGlobalPoolSupply: parseUnits("4321953535", 6),
    scaledPoolBorrow: parseUnits("1324465432", 6),
    indexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      p2pBorrowIndex: parseUnits("1.376518", 27),
      p2pSupplyIndex: parseUnits("1.7564", 27),
      poolBorrowIndex: parseUnits("1.0589", 27),
      poolSupplyIndex: parseUnits("1.2675", 27),
    },
    aaveIndexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      liquidityIndex: parseUnits("1.7564", 27),
      liquidityRate: parseUnits("1.0589", 27 - 2), // in percent
      variableBorrowIndex: parseUnits("1.2675", 27),
      variableBorrowRate: parseUnits("1.2675", 27 - 2), // in percent
    },
    deltas: {
      supply: {
        scaledP2PTotal: constants.Zero,
        scaledDelta: constants.Zero,
      },
      borrow: {
        scaledDelta: constants.Zero,
        scaledP2PTotal: constants.Zero,
      },
    },
  },
  [Underlying.weth]: {
    address: Underlying.weth,
    chainUsdPrice: parseUnits("1643.435645", 8),
    idleSupply: constants.Zero,
    poolLiquidity: parseUnits("1004300", 18),
    poolStableBorrow: constants.Zero,
    scaledPoolSupply: parseUnits("432142315", 18),
    scaledMorphoBorrowInP2P: parseUnits("123455234", 18),
    scaledMorphoBorrowOnPool: parseUnits("1232414124", 18),
    scaledMorphoSupplyInP2P: parseUnits("21343214234", 18),
    scaledMorphoGlobalPoolSupply: parseUnits("47816966", 18),
    scaledPoolBorrow: parseUnits("132431432", 18),
    indexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      p2pBorrowIndex: parseUnits("1.31218", 27),
      p2pSupplyIndex: parseUnits("1.12314", 27),
      poolBorrowIndex: parseUnits("1.12312", 27),
      poolSupplyIndex: parseUnits("1.12321", 27),
    },
    aaveIndexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      liquidityIndex: parseUnits("1.7564", 27),
      liquidityRate: parseUnits("1.0589", 27 - 2), // in percent
      variableBorrowIndex: parseUnits("1.2675", 27),
      variableBorrowRate: parseUnits("1.2675", 27 - 2), // in percent
    },
    deltas: {
      supply: {
        scaledP2PTotal: constants.Zero,
        scaledDelta: constants.Zero,
      },
      borrow: {
        scaledDelta: constants.Zero,
        scaledP2PTotal: constants.Zero,
      },
    },
  },
  [Underlying.wsteth]: {
    address: Underlying.wsteth,
    chainUsdPrice: parseUnits("1643.435645", 8),
    idleSupply: constants.Zero,
    poolLiquidity: parseUnits("1004300", 18),
    poolStableBorrow: constants.Zero,
    scaledPoolSupply: parseUnits("432142315", 18),
    scaledMorphoBorrowInP2P: parseUnits("123455234", 18),
    scaledMorphoBorrowOnPool: parseUnits("1232414124", 18),
    scaledMorphoSupplyInP2P: parseUnits("21343214234", 18),
    scaledMorphoGlobalPoolSupply: parseUnits("47816966", 18),
    scaledPoolBorrow: parseUnits("132431432", 18),
    indexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      p2pBorrowIndex: parseUnits("1.31218", 27),
      p2pSupplyIndex: parseUnits("1.12314", 27),
      poolBorrowIndex: parseUnits("1.12312", 27),
      poolSupplyIndex: parseUnits("1.12321", 27),
    },
    aaveIndexes: {
      lastUpdateTimestamp: BigNumber.from(1679584232),
      liquidityIndex: parseUnits("1.7564", 27),
      liquidityRate: parseUnits("1.0589", 27 - 2), // in percent
      variableBorrowIndex: parseUnits("1.2675", 27),
      variableBorrowRate: parseUnits("1.2675", 27 - 2), // in percent
    },
    deltas: {
      supply: {
        scaledP2PTotal: constants.Zero,
        scaledDelta: constants.Zero,
      },
      borrow: {
        scaledDelta: constants.Zero,
        scaledP2PTotal: constants.Zero,
      },
    },
  },
};
